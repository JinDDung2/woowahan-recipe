<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: headerFragment"/>
<style>
  .back-ground {
    background-color: #cccccc;
    border-radius: 10px;
    height: 65px;
    margin-top: 220px;
    margin-bottom: 10px;
    padding-top: 20px;
    padding-left: 20px;
  }
  button {
    padding: 10px 30px;
  }
</style>
<body>
<script type="text/javascript">
  function count(type)  {
    // 결과를 표시할 element
    const resultElement = document.getElementById('cartItemCnt');
    // 현재 화면에 표시된 값
    let number = resultElement.value;

    // 더하기/빼기
    if(type === 'plus') {
        if(number >= 10) {
            alert("수량은 10개 이하이어야 합니다.");
            return;
        }
      number = parseInt(number) + 1;
    }else if(type === 'minus')  {
        if(number <=0) {
            alert("수량은 1개 이상이어야 합니다.");
            return;
        }
        number = parseInt(number) - 1;
    }
    // 결과 출력
    resultElement.value = number;
  }
</script>
<div th:replace="fragments/bodyHeader :: bodyHeaderFragment"/>
<div class="container" style="border: 1px solid white">
  <div>
    <input style="width: 100px; float: right;"
           th:onclick="|location.href='@{/items/delete/{id}(id=${id})}'|" type="button" value="상품 삭제"/>
    <input style="width: 100px; float: right;"
           onclick="location.href='updateForm.html'"
           th:onclick="|location.href='@{/items/update/{id}(id=${id})}'|" type="button" value="상품 수정"/>
  </div>
  <div style="margin-top: 70px; border: 1px solid white" class = "row">
    <div class = "col">
      <p th:align="center" ><img src="..." class="card-img-top" alt="이미지 준비중입니다.">
    </div>
    <div style="padding-left: 150px" class = "col">
      <div>
        <h1 th:text="${resDto.getItemName()}">상품명</h1>
      </div>
      <div>
        <h3 th:text="${resDto.getItemPrice()}+원">상품 가격</h3>
      </div>
      <form role = "form" th:action="@{/items/cart}" th:object="${cartItemReq}" method="post">
        <div class="back-ground">
        <input type="hidden" th:field="${cartItemReq.itemId}"/>
<!--        <input type="hidden" th:field="${cartItemReq.itemId}"/>-->

        <!--장바구니 수량 버튼-->
          <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
            <input style="width: 40px" type='button' th:disabled="${cartItemCnt == 0} ? 'disabled'" onclick='count("minus")' value="-" />
<!--            <div style="width: 100px; border:1px solid; text-align: center; background-color: white" id='result'>0</div>-->
            <input style="width: 100px; border:1px solid; text-align: center; background-color: white" id='cartItemCnt'
                   name="cartItemCnt" th:value="${cartItemReq.cartItemCnt}"  />
<!--            th:field="*{cartItemReq.cartItemCnt}"-->
            <input style="width: 40px" type='button' th:disabled="${cartItemCnt == 0} ? 'disabled'" onclick='count("plus")' value="+" />
          </div>

          <div style="margin-right: 30px; float: right" th:text="원">총 합계 금액</div>
        </div>
        <div style="border: 1px solid;">
          <input style="width: 100px; float: right;"
                 onclick="location.href='findAllForm.html'"
                 th:onclick="|location.href='@{/items}'|" type="button" value="목록으로" />
          <input type="submit" value="장바구니" style="width: 100px; float: right;"/>

        </div>
      </form>
    </div>
  </div>
  <hr>

</div>
</div>
<div th:replace="fragments/footer :: footerFragment"/>
</body>
</html>