<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{cart-main}">
<!--<head th:replace="fragments/header :: headerFragment"/>-->
<body>
<!--<div th:replace="fragments/bodyHeader :: bodyHeaderFragment"/>-->
<div layout:fragment="cart-main" class="container">
    <div class="border-bottom p-2 my-3">
        <h2>장바구니 페이지</h2>
        <div>진행상황 띄우기</div>
    </div>
    <div>
        <table class="table cart-table text-center align-middle">
            <thead>
            <colgroup>
                <col style="width: 5%" />
                <col style="width: 30%" />
                <col style="width: 30%" />
                <col style="width: 10%" />
                <col style="width: 15%" />
                <col style="width: 10%" />
            </colgroup>
            <tr>
                <th><input type="checkbox" name="itemCheck" value="selectAll" checked onclick="selectAll(this)" />전체 선택</th>
                <th>상품 이미지</th>
                <th>상품명</th>
                <th>가격</th>
                <th>수량</th>
                <th scope="col">삭제</th>
            </tr>
            </thead>
            <tbody class="table-group-divider">
            <th:block th:if="${#lists.size(cartList) == 0}">
                <div>현재 장바구니에 등록된 상품이 없습니다.</div>
            </th:block>
            <th:block th:unless="${#lists.size(cartList) == 0}">
                <tr class="cartList" th:each="item : ${cartList}">
                    <td>
                        <input class="form-check-input idx" name="item" type="checkbox" id="flexCheckDefault" th:idx="${itemStat.index}" checked th:value="${item.cnt} * ${item.price}" onclick="getCheckPrice()">
                    </td>
                    <td class=".individual_image_input">
                        <div class="border d-flex justify-content-center align-items-center">
                            <img src="..." class="rounded" th:alt="|${{item.name}} 이미지 준비중|">
                        </div>
                    </td>
                    <td class="individual_name_input text-truncate" th:idx="${itemStat.index}" th:text="${item.name}">상품 이름</td>
                    <input type="hidden" class="individual_stock_input" th:value="${item.stock}">상품 재고</input>
                    <td class="individual_cnt_input d-flex flex-row align-items-center">
                        <button type="button" class="btn btn-jelly cnt-option-btn minus" th:idx="${itemStat.index}" th:onclick="count('minus', this.getAttribute('idx'))">-</button>
                        <input type="number" class="item-cnt m-2 text-center" min="1" width="50" th:idx="${itemStat.index}" th:value="${item.cnt}" readonly />
                        <button type="button" class="btn btn-jelly cnt-option-btn plus" th:idx="${itemStat.index}" th:onclick="count('plus', this.getAttribute('idx'))">+</button>
                    </td>
                    <td class="individual_price_input" th:idx="${itemStat.index}" th:text="${item.price}">상품 가격</td>
                    <td>
                        <button type="button" class="btn btn-danger delete-btn" th:idx="${itemStat.index}" th:value="${item.id}" th:onclick="deleteItem(this.getAttribute('idx'))">삭제</button>
                    </td>
                </tr>
            </th:block>
            </tbody>
        </table>
        <hr />
        <div class="cart-result rounded-3">
            <table class="table align-middle">
                <tr>
                    <td>주문금액</td>
                    <td class="border"><span class="order-price">0</span> 원</td>
                </tr>
                <tr>
                    <td>배송비</td>
                    <td class="border"><span class="delivery-price">0</span> 원</td>
                </tr>
                <tr style="height: 100px;">
                    <td>총 결제 예정 금액</td>
                    <td class="border"><span class="total-price">0</span> 원</td>
                </tr>
            </table>
            <button type="submit" class="btn btn-primary order-btn">주문하기</button>
        </div>
    </div>
</div>
</body>

</html>