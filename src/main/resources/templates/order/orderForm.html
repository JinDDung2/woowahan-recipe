<!DOCTYPE html>

<html lang ="ko">
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>주문 페이지</title>
    <head th:replace="fragments/header :: headerFragment"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body>
    <div th:replace="fragments/bodyHeader :: bodyHeaderFragment"/>
    <h2>주문자 정보</h2>
      <form role="form" th:action="@{/order}" th:object="${userEntity}" method="post">
        <div class="form-group">
          <div>이름: [[${userEntity.name}]]</div>
        </div>
        <div class="form-group">
          <div>핸드폰 번호: [[${userEntity.phoneNum}]]</div>
        </div>
        <div class="form-group">
          <div>이메일: [[${userEntity.email}]]</div>
        </div>

    <h2>배송지 정보</h2>
        <div class="form-group">
          <div>이름: [[${userEntity.name}]]</div>
        </div>
      <div class="form-group">
        <div>핸드폰 번호: [[${userEntity.phoneNum}]]</div>
      </div>
      <div class="form-group">
        <div>주소: [[${userEntity.address}]]</div>
      </div>

    <h2>주문 정보</h2>
      <div class="form-group">
        <div class="container">
          <div class="card-columns">
            <div class = "card-deck">
                <div class="card">
                  <img class="card-img-top" src="..." alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title">[[${orderEntity.orderItems.get(0).getItem()}]]</h5>
                  </div>
                </div>
                <div class="card" th:if="${orderEntity.orderItems.getSize() > 1}" >
                  <img class="card-img-top" src="..." alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title">[[${orderEntity.orderItems.get(1).getItem()}]]</h5>
                  </div>
                </div>
                <div class="card" th:if="${orderEntity.orderItems.getSize() > 1}">
                  <img class="card-img-top" src="..." alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title">[[${orderEntity.orderItems.get(2).getItem()}]]</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <span th:if="${orderEntity.orderItems.getSize() > 3}">외 "[[${orderEntity.orderItems.getSize()]] - 3"개 상품</span>
      <br></br>
      <div class="form-group">
        <div>결제 예정 금액: [[${orderItemEntity.getTotalPrice()}]]</div>
      </div>

      <button type="submit" class="btn btn-primary">결제하기</button>
    </form>
    <br/>
    <div th:replace="fragments/footer :: footerFragment"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>